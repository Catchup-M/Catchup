<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Catchup Messenger</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    }
    [contenteditable][data-placeholder]:empty:before {
      content: attr(data-placeholder);
      color: #6b7280;
      pointer-events: none;
      opacity: 0.7;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    // Lucide Icons as React components
    const Menu = () => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    );

    const Search = () => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    );

    const X = () => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    );

    const Users = () => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
        <circle cx="9" cy="7" r="4"></circle>
        <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
      </svg>
    );

    const UserPlus = () => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
        <circle cx="9" cy="7" r="4"></circle>
        <line x1="19" y1="8" x2="19" y2="14"></line>
        <line x1="22" y1="11" x2="16" y2="11"></line>
      </svg>
    );

    const Megaphone = () => (
      <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M21 17.5C21 19.433 19.433 21 17.5 21C15.567 21 14 19.433 14 17.5C14 15.567 15.567 14 17.5 14C19.433 14 21 15.567 21 17.5Z" stroke="#6b7380" strokeWidth="1.5"></path>
        <path d="M2 11H22" stroke="#6b7380" strokeWidth="1.5" strokeLinecap="round"></path>
        <path d="M4 11L4.6138 8.54479C5.15947 6.36211 5.43231 5.27077 6.24609 4.63538C7.05988 4 8.1848 4 10.4347 4H13.5653C15.8152 4 16.9401 4 17.7539 4.63538C18.5677 5.27077 18.8405 6.36211 19.3862 8.54479L20 11" stroke="#6b7380" strokeWidth="1.5" strokeLinecap="round"></path>
        <path d="M10 17.5C10 19.433 8.433 21 6.5 21C4.567 21 3 19.433 3 17.5C3 15.567 4.567 14 6.5 14C8.433 14 10 15.567 10 17.5Z" stroke="#6b7380" strokeWidth="1.5"></path>
        <path d="M10 17.4999L10.6584 17.1707C11.5029 16.7484 12.4971 16.7484 13.3416 17.1707L14 17.4999" stroke="#6b7380" strokeWidth="1.5" strokeLinecap="round"></path>
      </svg>
    );

    function CatchupMessenger() {
      const [isLoggedIn, setIsLoggedIn] = useState(true);
      const [isMenuOpen, setIsMenuOpen] = useState(false);
      const [isPopupOpen, setIsPopupOpen] = useState(false);
      const [isExpanding, setIsExpanding] = useState(false);
      const [isChatOpen, setIsChatOpen] = useState(false);
      const [selectedChat, setSelectedChat] = useState(null);

      const conversations = [
        {
          id: 1,
          name: 'VaVia',
          message: 'VaVia joined Telegram',
          date: 'Jun 26',
          avatarImage: 'https://i.ibb.co/C5b875C6/Screenshot-20250904-050841.jpg',
          lastSeen: 'last seen within a week'
        }
      ];

      const contacts = [
        {
          id: 1,
          name: 'Chukwuma Ogbonna',
          status: 'online',
          avatar: 'CH',
          bgColor: '#8B7FF5'
        }
      ];

      const handleFloatingButtonClick = () => {
        setIsExpanding(true);
        setTimeout(() => {
          setIsPopupOpen(true);
          setIsExpanding(false);
        }, 300);
      };

      const handleClosePopup = () => {
        setIsPopupOpen(false);
      };

      const handleConversationClick = (conversation) => {
        setSelectedChat(conversation);
        setIsChatOpen(true);
      };

      const handleBackFromChat = () => {
        setIsChatOpen(false);
        setSelectedChat(null);
      };

      return (
        <div className="w-full h-screen bg-white flex flex-col relative overflow-hidden">
          {isLoggedIn ? (
            <>
              <style>{`
                @keyframes expandToFullScreen {
                  0% {
                    width: 56px;
                    height: 56px;
                    border-radius: 9999px;
                    bottom: 24px;
                    right: 24px;
                  }
                  100% {
                    width: 100vw;
                    height: 100vh;
                    border-radius: 0;
                    bottom: 0;
                    right: 0;
                  }
                }
                .expanding {
                  animation: expandToFullScreen 0.3s ease-out forwards;
                }
                @keyframes slideOutLeft {
                  from {
                    transform: translateX(0);
                  }
                  to {
                    transform: translateX(-100%);
                  }
                }
                @keyframes slideInRight {
                  from {
                    transform: translateX(100%);
                  }
                  to {
                    transform: translateX(0);
                  }
                }
                .slide-out-left {
                  animation: slideOutLeft 0.3s ease-out forwards;
                }
                .slide-in-right {
                  animation: slideInRight 0.3s ease-out forwards;
                }
              `}</style>

              {/* Main Messages View */}
              <div className={isChatOpen ? 'slide-out-left' : ''}>
                {/* Header */}
                <div className="flex items-center justify-between px-4 py-3 shadow-sm">
                  <button
                    onClick={() => setIsMenuOpen(!isMenuOpen)}
                    className="p-2 hover:bg-gray-100 rounded-full transition-colors"
                    aria-label="Menu"
                  >
                    <Menu />
                  </button>

                  <h1 className="text-xl font-semibold text-gray-800 absolute left-1/2 transform -translate-x-1/2">
                    Messages
                  </h1>

                  <button
                    className="p-2 hover:bg-gray-100 rounded-full transition-colors"
                    aria-label="Search"
                  >
                    <Search />
                  </button>
                </div>

                {/* Conversation List */}
                <div className="flex-1 overflow-y-auto">
                  <div className="h-2 bg-gray-100"></div>
                  {conversations.map((conversation) => (
                    <div
                      key={conversation.id}
                      onClick={() => handleConversationClick(conversation)}
                      className="flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors"
                    >
                      {/* Avatar */}
                      <div className="w-14 h-14 rounded-full overflow-hidden flex-shrink-0">
                        <img 
                          src={conversation.avatarImage} 
                          alt={conversation.name}
                          className="w-full h-full object-cover"
                          draggable="false"
                        />
                      </div>

                      {/* Content */}
                      <div className="ml-4 flex-1 min-w-0">
                        <div className="flex items-baseline justify-between">
                          <h3 className="font-semibold text-gray-900 text-base">
                            {conversation.name}
                          </h3>
                          <span className="text-sm text-gray-500 ml-2">
                            {conversation.date}
                          </span>
                        </div>
                        <p className="text-gray-500 text-sm truncate mt-1">
                          {conversation.message}
                        </p>
                      </div>
                    </div>
                  ))}
                </div>
              </div>

              {/* Floating Action Button */}
              {!isPopupOpen && !isMenuOpen && !isChatOpen && (
                <button
                  onClick={handleFloatingButtonClick}
                  className={`fixed w-14 h-14 shadow-lg flex items-center justify-center transition-colors z-50 ${
                    isExpanding ? 'expanding' : 'bottom-6 right-6 rounded-full'
                  }`}
                  style={{ backgroundColor: isExpanding ? '#ffffff' : '#4A90E2' }}
                  onMouseEnter={(e) => !isExpanding && (e.currentTarget.style.backgroundColor = '#3A7BC8')}
                  onMouseLeave={(e) => !isExpanding && (e.currentTarget.style.backgroundColor = '#4A90E2')}
                  aria-label="New message"
                >
                  {!isExpanding && (
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 16 16" fill="#ffffff">
                      <g fill="#ffffff">
                        <path d="M1 14s-1 0-1-1s1-4 6-4s6 3 6 4s-1 1-1 1H1zm5-6a3 3 0 1 0 0-6a3 3 0 0 0 0 6z"/>
                        <path fillRule="evenodd" d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"/>
                      </g>
                    </svg>
                  )}
                </button>
              )}

              {/* Chat View */}
              {isChatOpen && selectedChat && (
                <div className="fixed inset-0 bg-white z-50 flex flex-col slide-in-right">
                  {/* Chat Header */}
                  <div className="flex items-center px-3 py-2 bg-white shadow-md">
                    <button
                      onClick={handleBackFromChat}
                      className="p-1.5 hover:bg-gray-100 rounded-full transition-colors"
                      aria-label="Back"
                    >
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                        <line x1="19" y1="12" x2="5" y2="12"></line>
                        <polyline points="12 19 5 12 12 5"></polyline>
                      </svg>
                    </button>

                    <div className="flex items-center ml-4 flex-1">
                      <div className="w-9 h-9 rounded-full overflow-hidden flex-shrink-0">
                        <img 
                          src={selectedChat.avatarImage} 
                          alt={selectedChat.name}
                          className="w-full h-full object-cover"
                          draggable="false"
                        />
                      </div>
                      
                      <div className="ml-3">
                        <h2 className="text-base font-semibold text-gray-900">
                          {selectedChat.name}
                        </h2>
                        <p className="text-xs text-gray-500">
                          {selectedChat.lastSeen}
                        </p>
                      </div>
                    </div>

                    <button
                      className="p-1.5 bg-gray-100 hover:bg-gray-200 rounded-full transition-colors"
                      aria-label="More options"
                    >
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                        <polyline points="6 9 12 15 18 9"></polyline>
                      </svg>
                    </button>
                  </div>

                  {/* Chat Messages Area */}
                  <div className="flex-1 bg-gray-50 overflow-y-auto">
                    {/* Empty chat area */}
                  </div>

                  {/* Chat Input */}
                  <div className="bg-white border-t border-gray-200">
                    <div className="w-full max-w-2xl mx-auto flex items-center p-2 gap-1">
                      {/* Emoji Button */}
                      <button className="p-2 flex-shrink-0 self-end rounded-full">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <g transform="rotate(-19, 12, 12)">
                            <path d="M9 16C9.85038 16.6303 10.8846 17 12 17C13.1154 17 14.1496 16.6303 15 16" stroke="#6b7280" strokeWidth="2" strokeLinecap="round"></path>
                            <ellipse cx="15" cy="10.5" rx="1" ry="1.5" fill="#6b7280"></ellipse>
                            <ellipse cx="9" cy="10.5" rx="1" ry="1.5" fill="#6b7280"></ellipse>
                            <path d="M15 22H12C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12V15M15 22C18.866 22 22 18.866 22 15M15 22C15 20.1387 15 19.2081 15.2447 18.4549C15.7393 16.9327 16.9327 15.7393 18.4549 15.2447C19.2081 15 20.1387 15 22 15" stroke="#6b7280" strokeWidth="2"></path>
                          </g>
                        </svg>
                      </button>

                      {/* Input Field */}
                      <div
                        contentEditable
                        className="flex-1 bg-transparent text-gray-900 outline-none px-3 py-2 min-h-[40px] max-h-[120px] overflow-y-auto whitespace-pre-wrap break-words"
                        data-placeholder="Message..."
                        suppressContentEditableWarning={true}
                      />

                      {/* Attach Button (Paperclip) */}
                      <button className="p-2 flex-shrink-0 self-end rounded-full">
                        <svg fill="#6b7280" viewBox="0 0 32 32" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                          <g transform="rotate(-42, 16, 16)">
                            <path d="M13.17,29.9a4,4,0,0,1-2.83-1.17L4.69,23.07a4,4,0,0,1,0-5.66L18.83,3.27a4.1,4.1,0,0,1,5.66,0L27.31,6.1a4,4,0,0,1,0,5.66L16,23.07a4,4,0,0,1-5.66-5.66l9.2-9.19L21,9.64l-9.19,9.19a2,2,0,0,0,2.83,2.83L25.9,10.34a2,2,0,0,0,0-2.83L23.07,4.69a2,2,0,0,0-2.83,0L6.1,18.83a2,2,0,0,0,0,2.83l5.66,5.65a2,2,0,0,0,2.83,0l12-12L28,16.71l-12,12A4,4,0,0,1,13.17,29.9Z"></path>
                          </g>
                        </svg>
                      </button>

                      {/* Microphone Button */}
                      <button className="p-2 flex-shrink-0 self-end hover:bg-gray-100 rounded-full transition-colors">
                        <svg viewBox="0 0 24 24" fill="none" stroke="#6b7280" strokeWidth="1.8" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                          <rect x="8" y="2" width="8" height="13" rx="4"></rect>
                          <path d="M20,10v1a8,8,0,0,1-8,8h0a8,8,0,0,1-8-8V10"></path>
                          <line x1="12" y1="19" x2="12" y2="22"></line>
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              )}

              {/* Full Screen Popup */}
              {isPopupOpen && (
                <div className="fixed inset-0 bg-white z-50 flex flex-col">
                  {/* Popup Header */}
                  <div className="flex items-center justify-between px-4 py-3 shadow-sm">
                    <button
                      onClick={handleClosePopup}
                      className="p-2 hover:bg-gray-100 rounded-full transition-colors"
                      aria-label="Close"
                    >
                      <X />
                    </button>

                    <h1 className="text-xl font-semibold text-gray-800 absolute left-1/2 transform -translate-x-1/2">
                      Contact
                    </h1>

                    <button
                      className="p-2 hover:bg-gray-100 rounded-full transition-colors"
                      aria-label="Search"
                    >
                      <Search />
                    </button>
                  </div>

                  {/* Popup Content */}
                  <div className="flex-1 overflow-y-auto bg-white">
                    {/* Action Items */}
                    <div className="bg-white">
                      <div className="flex items-center px-4 py-4 hover:bg-gray-50 cursor-pointer transition-colors">
                        <div className="text-gray-500">
                          <Users />
                        </div>
                        <span className="ml-6 text-base text-gray-900">New Group</span>
                      </div>

                      <div className="flex items-center px-4 py-4 hover:bg-gray-50 cursor-pointer transition-colors">
                        <div className="text-gray-500">
                          <UserPlus />
                        </div>
                        <span className="ml-6 text-base text-gray-900">New Contact</span>
                      </div>

                      <div className="flex items-center px-4 py-4 hover:bg-gray-50 cursor-pointer transition-colors">
                        <div className="text-gray-500">
                          <Megaphone />
                        </div>
                        <span className="ml-6 text-base text-gray-900">Private Circle</span>
                      </div>
                    </div>

                    {/* Sorted by section */}
                    <div className="bg-gray-100 px-4 py-2 mt-2">
                      <span className="text-sm text-gray-600">Sorted by last seen time</span>
                    </div>

                    {/* Contacts List */}
                    <div className="bg-white">
                      {contacts.map((contact) => (
                        <div
                          key={contact.id}
                          className="flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors"
                        >
                          {/* Avatar */}
                          <div 
                            className="w-14 h-14 rounded-full flex items-center justify-center flex-shrink-0 text-white text-xl font-semibold"
                            style={{ backgroundColor: contact.bgColor }}
                          >
                            {contact.avatar}
                          </div>

                          {/* Content */}
                          <div className="ml-4 flex-1 min-w-0">
                            <h3 className="font-normal text-gray-900 text-base">
                              {contact.name}
                            </h3>
                            <p className="text-blue-500 text-sm mt-0.5">
                              {contact.status}
                            </p>
                          </div>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>
              )}

              {/* Menu Overlay */}
              {isMenuOpen && (
                <div className="fixed inset-0 bg-white z-40 flex flex-col">
                  {/* Menu Header */}
                  <div className="flex items-center justify-between px-4 py-3 bg-gray-100">
                    <button
                      onClick={() => setIsMenuOpen(false)}
                      className="p-2 hover:bg-gray-200 rounded-full transition-colors"
                      aria-label="Close"
                    >
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                        <line x1="19" y1="12" x2="5" y2="12"></line>
                        <polyline points="12 19 5 12 12 5"></polyline>
                      </svg>
                    </button>

                    <h1 className="text-2xl font-bold text-gray-900">
                      Menu
                    </h1>

                    <button
                      className="p-2 hover:bg-gray-200 rounded-full transition-colors"
                      aria-label="Search"
                    >
                      <Search />
                    </button>
                  </div>

                  {/* Menu Content */}
                  <div className="flex-1 overflow-y-auto bg-gray-100 px-4 pt-4">
                    {/* Profile Card */}
                    <div className="bg-white rounded-2xl p-4 mb-4 shadow-sm">
                      <div className="flex items-center">
                        <div className="w-14 h-14 rounded-full overflow-hidden flex-shrink-0">
                          <img 
                            src="https://i.ibb.co/C5b875C6/Screenshot-20250904-050841.jpg" 
                            alt="Admin"
                            className="w-full h-full object-cover"
                            draggable="false"
                          />
                        </div>
                        <div className="ml-4">
                          <h2 className="text-lg font-semibold text-gray-900">
                            Admin
                          </h2>
                          <p className="text-sm text-gray-500">
                            View your profile
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              )}
            </>
          ) : null}
        </div>
      );
    }

    ReactDOM.render(<CatchupMessenger />, document.getElementById('root'));
  </script>
</body>
</html>
